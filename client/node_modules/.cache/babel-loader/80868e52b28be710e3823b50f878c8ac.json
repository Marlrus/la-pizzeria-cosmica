{"ast":null,"code":"export const ActionTypes = {\n  AGREGAR_INGREDIENTE: 'AGREGAR_INGREDIENTE',\n  REMOVER_INGREDIENTE: 'REMOVER_INGREDIENTE',\n  ACTUALIZAR_PRECIO: 'ACTUALIZAR_PRECIO'\n};\nexport const agregarIngrediente = nombre => ({\n  type: ActionTypes.AGREGAR_INGREDIENTE,\n  payload: nombre\n});\nexport const removerIngrediente = nombre => ({\n  type: ActionTypes.REMOVER_INGREDIENTE,\n  payload: nombre\n});\nexport const actualizarPrecio = nombre => ({\n  type: ActionTypes.ACTUALIZAR_PRECIO,\n  payload: nombre\n});\n\nconst precioPizza = ingredientes => {\n  const precio = ingredientes.reduce((total, ingrediente) => total += ingrediente.precio, 0);\n  console.log({\n    precio\n  });\n  return precio;\n};\n\nexport const creadorPizzaReducer = (state, action) => {\n  const {\n    ingredientes,\n    pizza\n  } = state;\n\n  switch (action.type) {\n    case ActionTypes.AGREGAR_INGREDIENTE:\n      {\n        const ingrediente = ingredientes.filter(({\n          nombre\n        }) => nombre === action.payload);\n        return { ...state,\n          ingredientes: ingredientes.filter(({\n            nombre\n          }) => nombre !== action.payload),\n          pizza: { ...pizza,\n            ingredientes: [...pizza.ingredientes, ...ingrediente]\n          }\n        };\n      }\n\n    case ActionTypes.REMOVER_INGREDIENTE:\n      {\n        if (action.payload === 'masa') return state;\n        const ingrediente = ingredientes.filter(({\n          nombre\n        }) => nombre === action.payload);\n        return { ...state,\n          ingredientes: [...ingredientes, ...ingrediente],\n          pizza: { ...pizza,\n            ingredientes: pizza.ingredientes.filter(({\n              nombre\n            }) => nombre !== action.payload)\n          }\n        };\n      }\n\n    case ActionTypes.ACTUALIZAR_PRECIO:\n      return { ...state,\n        pizza: { ...pizza,\n          precio: actualizarPrecio(state.pizza.ingredientes)\n        }\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/marlrus/webDev/habi/la-pizzeria-cosmica/src/components/creador-pizza/creador-pizza.reducer.ts"],"names":["ActionTypes","AGREGAR_INGREDIENTE","REMOVER_INGREDIENTE","ACTUALIZAR_PRECIO","agregarIngrediente","nombre","type","payload","removerIngrediente","actualizarPrecio","precioPizza","ingredientes","precio","reduce","total","ingrediente","console","log","creadorPizzaReducer","state","action","pizza","filter"],"mappings":"AAGA,OAAO,MAAMA,WAAW,GAAG;AAC1BC,EAAAA,mBAAmB,EAAE,qBADK;AAE1BC,EAAAA,mBAAmB,EAAE,qBAFK;AAG1BC,EAAAA,iBAAiB,EAAE;AAHO,CAApB;AAMP,OAAO,MAAMC,kBAAkB,GAAIC,MAAD,KAAqB;AACtDC,EAAAA,IAAI,EAAEN,WAAW,CAACC,mBADoC;AAEtDM,EAAAA,OAAO,EAAEF;AAF6C,CAArB,CAA3B;AAKP,OAAO,MAAMG,kBAAkB,GAAIH,MAAD,KAAqB;AACtDC,EAAAA,IAAI,EAAEN,WAAW,CAACE,mBADoC;AAEtDK,EAAAA,OAAO,EAAEF;AAF6C,CAArB,CAA3B;AAKP,OAAO,MAAMI,gBAAgB,GAAIJ,MAAD,KAAqB;AACpDC,EAAAA,IAAI,EAAEN,WAAW,CAACG,iBADkC;AAEpDI,EAAAA,OAAO,EAAEF;AAF2C,CAArB,CAAzB;;AAKP,MAAMK,WAAW,GAAIC,YAAD,IAAiC;AACpD,QAAMC,MAAM,GAAGD,YAAY,CAACE,MAAb,CACd,CAACC,KAAD,EAAQC,WAAR,KAAyBD,KAAK,IAAIC,WAAW,CAACH,MADhC,EAEd,CAFc,CAAf;AAIAI,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEL,IAAAA;AAAF,GAAZ;AACA,SAAOA,MAAP;AACA,CAPD;;AAaA,OAAO,MAAMM,mBAA+D,GAAG,CAC9EC,KAD8E,EAE9EC,MAF8E,KAG1E;AACJ,QAAM;AAAET,IAAAA,YAAF;AAAgBU,IAAAA;AAAhB,MAA0BF,KAAhC;;AACA,UAAQC,MAAM,CAACd,IAAf;AACC,SAAKN,WAAW,CAACC,mBAAjB;AAAsC;AACrC,cAAMc,WAAW,GAAGJ,YAAY,CAACW,MAAb,CACnB,CAAC;AAAEjB,UAAAA;AAAF,SAAD,KAAgBA,MAAM,KAAKe,MAAM,CAACb,OADf,CAApB;AAGA,eAAO,EACN,GAAGY,KADG;AAENR,UAAAA,YAAY,EAAEA,YAAY,CAACW,MAAb,CACb,CAAC;AAAEjB,YAAAA;AAAF,WAAD,KAAgBA,MAAM,KAAKe,MAAM,CAACb,OADrB,CAFR;AAKNc,UAAAA,KAAK,EAAE,EACN,GAAGA,KADG;AAENV,YAAAA,YAAY,EAAE,CAAC,GAAGU,KAAK,CAACV,YAAV,EAAwB,GAAGI,WAA3B;AAFR;AALD,SAAP;AAUA;;AACD,SAAKf,WAAW,CAACE,mBAAjB;AAAsC;AACrC,YAAIkB,MAAM,CAACb,OAAP,KAAmB,MAAvB,EAA+B,OAAOY,KAAP;AAC/B,cAAMJ,WAAW,GAAGJ,YAAY,CAACW,MAAb,CACnB,CAAC;AAAEjB,UAAAA;AAAF,SAAD,KAAgBA,MAAM,KAAKe,MAAM,CAACb,OADf,CAApB;AAGA,eAAO,EACN,GAAGY,KADG;AAENR,UAAAA,YAAY,EAAE,CAAC,GAAGA,YAAJ,EAAkB,GAAGI,WAArB,CAFR;AAGNM,UAAAA,KAAK,EAAE,EACN,GAAGA,KADG;AAENV,YAAAA,YAAY,EAAEU,KAAK,CAACV,YAAN,CAAmBW,MAAnB,CACb,CAAC;AAAEjB,cAAAA;AAAF,aAAD,KAAgBA,MAAM,KAAKe,MAAM,CAACb,OADrB;AAFR;AAHD,SAAP;AAUA;;AACD,SAAKP,WAAW,CAACG,iBAAjB;AACC,aAAO,EACN,GAAGgB,KADG;AAENE,QAAAA,KAAK,EAAE,EACN,GAAGA,KADG;AAENT,UAAAA,MAAM,EAAEH,gBAAgB,CAACU,KAAK,CAACE,KAAN,CAAYV,YAAb;AAFlB;AAFD,OAAP;;AAOD;AACC,aAAOQ,KAAP;AAzCF;AA2CA,CAhDM","sourcesContent":["import { CreadorPizzaState, Ingrediente } from './pizza.types';\nimport { Reducer } from 'react';\n\nexport const ActionTypes = {\n\tAGREGAR_INGREDIENTE: 'AGREGAR_INGREDIENTE',\n\tREMOVER_INGREDIENTE: 'REMOVER_INGREDIENTE',\n\tACTUALIZAR_PRECIO: 'ACTUALIZAR_PRECIO',\n} as const;\n\nexport const agregarIngrediente = (nombre: string) => ({\n\ttype: ActionTypes.AGREGAR_INGREDIENTE,\n\tpayload: nombre,\n});\n\nexport const removerIngrediente = (nombre: string) => ({\n\ttype: ActionTypes.REMOVER_INGREDIENTE,\n\tpayload: nombre,\n});\n\nexport const actualizarPrecio = (nombre: string) => ({\n\ttype: ActionTypes.ACTUALIZAR_PRECIO,\n\tpayload: nombre,\n});\n\nconst precioPizza = (ingredientes: Ingrediente[]) => {\n\tconst precio = ingredientes.reduce(\n\t\t(total, ingrediente) => (total += ingrediente.precio),\n\t\t0,\n\t);\n\tconsole.log({ precio });\n\treturn precio;\n};\ntype CreadorActions =\n\t| ReturnType<typeof agregarIngrediente>\n\t| ReturnType<typeof removerIngrediente>\n\t| ReturnType<typeof actualizarPrecio>;\n\nexport const creadorPizzaReducer: Reducer<CreadorPizzaState, CreadorActions> = (\n\tstate: CreadorPizzaState,\n\taction: CreadorActions,\n) => {\n\tconst { ingredientes, pizza } = state;\n\tswitch (action.type) {\n\t\tcase ActionTypes.AGREGAR_INGREDIENTE: {\n\t\t\tconst ingrediente = ingredientes.filter(\n\t\t\t\t({ nombre }) => nombre === action.payload,\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tingredientes: ingredientes.filter(\n\t\t\t\t\t({ nombre }) => nombre !== action.payload,\n\t\t\t\t),\n\t\t\t\tpizza: {\n\t\t\t\t\t...pizza,\n\t\t\t\t\tingredientes: [...pizza.ingredientes, ...ingrediente],\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase ActionTypes.REMOVER_INGREDIENTE: {\n\t\t\tif (action.payload === 'masa') return state;\n\t\t\tconst ingrediente = ingredientes.filter(\n\t\t\t\t({ nombre }) => nombre === action.payload,\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tingredientes: [...ingredientes, ...ingrediente],\n\t\t\t\tpizza: {\n\t\t\t\t\t...pizza,\n\t\t\t\t\tingredientes: pizza.ingredientes.filter(\n\t\t\t\t\t\t({ nombre }) => nombre !== action.payload,\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase ActionTypes.ACTUALIZAR_PRECIO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpizza: {\n\t\t\t\t\t...pizza,\n\t\t\t\t\tprecio: actualizarPrecio(state.pizza.ingredientes),\n\t\t\t\t},\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}